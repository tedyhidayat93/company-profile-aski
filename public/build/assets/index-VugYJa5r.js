import{c as ke,j as t,u as Ee,r as Ne,e as me}from"./app-IWXCggSr.js";import{a as He}from"./frontend-layout-gcFgWYic.js";import{P as Ue}from"./ProductCard-CaS2RNSU.js";import{C as qe}from"./chevron-down-B0lL3tBM.js";import{e as Ce}from"./index-ww8bVwyW.js";/* empty css            */import"./x-CA3m2qSf.js";const Ke=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Le=Ce("ArrowUpDown",Ke);const Oe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Te=Ce("Search",Oe);function Ve(c){const e=ke.c(111),{products:A,categories:m,types:d}=c,{filters:r}=Ee().props,o=r?.search||"",de=r?.type||"",ge=r?.category||"",pe=r?.perPage||"12",ue=r?.minPrice||"",he=r?.maxPrice||"";let g;e[0]!==r?.sort?(g=r?.sort?.toString()||"price-asc",e[0]=r?.sort,e[1]=g):g=e[1];let U;e[2]!==o||e[3]!==de||e[4]!==ge||e[5]!==pe||e[6]!==ue||e[7]!==he||e[8]!==g?(U={search:o,type:de,category:ge,perPage:pe,minPrice:ue,maxPrice:he,sort:g},e[2]=o,e[3]=de,e[4]=ge,e[5]=pe,e[6]=ue,e[7]=he,e[8]=g,e[9]=U):U=e[9];const[l,fe]=Ne.useState(U),[E,Fe]=Ne.useState(!0),{data:i,pagination:a}=A;let q;e[10]!==r?.category||e[11]!==r?.maxPrice||e[12]!==r?.minPrice||e[13]!==r?.perPage||e[14]!==r?.search||e[15]!==r?.sort||e[16]!==r?.type?(q=()=>{fe({search:r?.search||"",type:r?.type||"",category:r?.category||"",perPage:r?.perPage||"12",minPrice:r?.minPrice||"",maxPrice:r?.maxPrice||"",sort:r?.sort?.toString()||"price-asc"})},e[10]=r?.category,e[11]=r?.maxPrice,e[12]=r?.minPrice,e[13]=r?.perPage,e[14]=r?.search,e[15]=r?.sort,e[16]=r?.type,e[17]=q):q=e[17];let K;e[18]!==r?(K=[r],e[18]=r,e[19]=K):K=e[19],Ne.useEffect(q,K);let L;e[20]!==l?(L=n=>{const{name:$e,value:Me}=n.target,we={...l,[$e]:Me};fe(we);const H=new URLSearchParams;Object.entries(we).forEach(Re=>{const[Ae,oe]=Re;if(typeof oe=="function"||oe===null||oe===void 0)return;const Se=String(oe).trim();Se&&H.set(Ae,Se)});const De=["price-asc","price-desc","name-asc","name-desc"];H.has("sort")&&!De.includes(H.get("sort"))&&H.set("sort","price-asc"),me.get(`/catalog?${H.toString()}`,{},{preserveState:!0,only:["products","filters"]})},e[20]=l,e[21]=L):L=e[21];const s=L;let O;e[22]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{fe({search:"",type:"",category:"",perPage:"12",minPrice:"",maxPrice:"",sort:"price-asc"}),me.get("/catalog")},e[22]=O):O=e[22];const Pe=O;let p;e[23]!==E?(p=()=>Fe(!E),e[23]=E,e[24]=p):p=e[24];let T;e[25]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("h2",{className:"text-lg font-semibold",children:"Filter"}),e[25]=T):T=e[25];let V;e[26]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("button",{onClick:Pe,className:"text-sm text-amber-600 hover:text-amber-700",children:"Reset"}),e[26]=V):V=e[26];const xe=`w-5 h-5 transform transition-transform ${E?"rotate-180":""}`;let u;e[27]!==xe?(u=t.jsxs("div",{className:"flex items-center space-x-4",children:[V,t.jsx(qe,{className:xe})]}),e[27]=xe,e[28]=u):u=e[28];let h;e[29]!==p||e[30]!==u?(h=t.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:p,children:[T,u]}),e[29]=p,e[30]=u,e[31]=h):h=e[31];let I;e[32]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(Te,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e[32]=I):I=e[32];let f;e[33]!==l.search||e[34]!==s?(f=t.jsxs("div",{className:"relative mt-3",children:[I,t.jsx("input",{type:"text",name:"search",placeholder:"Cari produk...",value:l.search,onChange:s,className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-amber-500 focus:ring-2 focus:ring-amber-200"})]}),e[33]=l.search,e[34]=s,e[35]=f):f=e[35];const be=`space-y-6 pt-5 ${E?"block":"hidden"}`;let Z;e[36]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx("h3",{className:"mb-2 font-medium text-sm",children:"Sewa/Jual"}),e[36]=Z):Z=e[36];const ye=l.type||"";let J;e[37]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("option",{value:"",children:"Semua"}),e[37]=J):J=e[37];let x;e[38]!==d?(x=d.map(Je),e[38]=d,e[39]=x):x=e[39];let b;e[40]!==s||e[41]!==ye||e[42]!==x?(b=t.jsxs("div",{children:[Z,t.jsxs("select",{name:"type",value:ye,onChange:s,className:"w-full rounded-lg border border-gray-300 p-2 focus:border-amber-500 focus:ring-2 focus:ring-amber-200",children:[J,x]})]}),e[40]=s,e[41]=ye,e[42]=x,e[43]=b):b=e[43];let z;e[44]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("h3",{className:"mb-2 font-medium text-sm",children:"Kategori"}),e[44]=z):z=e[44];const je=l.category||"";let B;e[45]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("option",{value:"",children:"Semua Kategori"}),e[45]=B):B=e[45];let y;e[46]!==m?(y=m.map(Ze),e[46]=m,e[47]=y):y=e[47];let j;e[48]!==s||e[49]!==je||e[50]!==y?(j=t.jsxs("div",{children:[z,t.jsxs("select",{name:"category",value:je,onChange:s,className:"w-full rounded-lg border border-gray-300 p-2 focus:border-amber-500 focus:ring-2 focus:ring-amber-200",children:[B,y]})]}),e[48]=s,e[49]=je,e[50]=y,e[51]=j):j=e[51];let G;e[52]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("h3",{className:"mb-2 font-medium text-sm",children:"Rentang Harga"}),e[52]=G):G=e[52];let Q;e[53]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("label",{className:"mb-1 block text-sm text-gray-600",children:"Min"}),e[53]=Q):Q=e[53];let v;e[54]!==l.minPrice||e[55]!==s?(v=t.jsxs("div",{children:[Q,t.jsx("input",{type:"number",name:"minPrice",placeholder:"Min",value:l.minPrice,onChange:s,className:"w-full rounded-lg border border-gray-300 p-2"})]}),e[54]=l.minPrice,e[55]=s,e[56]=v):v=e[56];let W;e[57]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("label",{className:"mb-1 block text-sm text-gray-600",children:"Max"}),e[57]=W):W=e[57];let _;e[58]!==l.maxPrice||e[59]!==s?(_=t.jsxs("div",{children:[W,t.jsx("input",{type:"number",name:"maxPrice",placeholder:"Max",value:l.maxPrice,onChange:s,className:"w-full rounded-lg border border-gray-300 p-2"})]}),e[58]=l.maxPrice,e[59]=s,e[60]=_):_=e[60];let N;e[61]!==v||e[62]!==_?(N=t.jsxs("div",{children:[G,t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v,_]})]}),e[61]=v,e[62]=_,e[63]=N):N=e[63];let X;e[64]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("h3",{className:"mb-2 font-medium text-sm",children:"Urutkan"}),e[64]=X):X=e[64];const ve=l.sort||"price-asc";let Y,ee,te,re;e[65]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx("option",{value:"price-asc",children:"Harga Terendah"}),ee=t.jsx("option",{value:"price-desc",children:"Harga Tertinggi"}),te=t.jsx("option",{value:"name-asc",children:"Nama A-Z"}),re=t.jsx("option",{value:"name-desc",children:"Nama Z-A"}),e[65]=Y,e[66]=ee,e[67]=te,e[68]=re):(Y=e[65],ee=e[66],te=e[67],re=e[68]);let P;e[69]!==s||e[70]!==ve?(P=t.jsxs("select",{name:"sort",value:ve,onChange:s,className:"w-full rounded-lg border border-gray-300 p-2 focus:border-amber-500 focus:ring-2 focus:ring-amber-200",children:[Y,ee,te,re]}),e[69]=s,e[70]=ve,e[71]=P):P=e[71];let se;e[72]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(Le,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e[72]=se):se=e[72];let w;e[73]!==P?(w=t.jsxs("div",{children:[X,t.jsxs("div",{className:"relative",children:[P,se]})]}),e[73]=P,e[74]=w):w=e[74];let S;e[75]!==be||e[76]!==b||e[77]!==j||e[78]!==N||e[79]!==w?(S=t.jsxs("div",{className:be,children:[b,j,N,w]}),e[75]=be,e[76]=b,e[77]=j,e[78]=N,e[79]=w,e[80]=S):S=e[80];let k;e[81]!==h||e[82]!==f||e[83]!==S?(k=t.jsx("div",{className:"w-full lg:w-1/4",children:t.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-md sticky top-32",children:[h,f,S]})}),e[81]=h,e[82]=f,e[83]=S,e[84]=k):k=e[84];let C;e[85]!==a.total||e[86]!==i.length?(C=t.jsxs("p",{className:"text-gray-600",children:["Menampilkan ",i.length," dari ",a.total," produk"]}),e[85]=a.total,e[86]=i.length,e[87]=C):C=e[87];let ae;e[88]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx("span",{className:"text-sm text-gray-600",children:"Tampilkan per halaman:"}),e[88]=ae):ae=e[88];const _e=String(l.perPage||"12");let F;e[89]!==s?(F=n=>s({target:{name:"perPage",value:n.target.value}}),e[89]=s,e[90]=F):F=e[90];let le,ce,ie;e[91]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("option",{value:"12",children:"12"}),ce=t.jsx("option",{value:"24",children:"24"}),ie=t.jsx("option",{value:"48",children:"48"}),e[91]=le,e[92]=ce,e[93]=ie):(le=e[91],ce=e[92],ie=e[93]);let $;e[94]!==_e||e[95]!==F?($=t.jsxs("div",{className:"flex items-center space-x-2",children:[ae,t.jsxs("select",{className:"rounded-lg border border-gray-300 p-1.5 text-sm focus:border-amber-500 focus:ring-2 focus:ring-amber-200",value:_e,onChange:F,children:[le,ce,ie]})]}),e[94]=_e,e[95]=F,e[96]=$):$=e[96];let M;e[97]!==C||e[98]!==$?(M=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[C,$]}),e[97]=C,e[98]=$,e[99]=M):M=e[99];let D;e[100]!==a.current_page||e[101]!==a.per_page||e[102]!==a.total||e[103]!==i?(D=i.length===0?t.jsxs("div",{className:"rounded-lg bg-white p-12 text-center shadow",children:[t.jsx("h3",{className:"mb-2 text-lg font-medium",children:"Produk tidak ditemukan"}),t.jsx("p",{className:"mb-4 text-gray-600",children:"Coba ubah filter pencarian Anda"}),t.jsx("button",{onClick:Pe,className:"rounded-lg bg-amber-500 px-4 py-2 font-medium text-white hover:bg-amber-600",children:"Reset Filter"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-6 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4",children:i.map(Ie)}),a.total>0&&t.jsx("div",{className:"mt-8 flex items-center justify-center",children:t.jsxs("nav",{className:"flex items-center space-x-1",children:[t.jsx("button",{onClick:()=>{const n=Math.max(1,a.current_page-1);n!==a.current_page&&me.get(`/catalog?page=${n}`,{},{preserveState:!0,only:["products","filters"]})},disabled:a.current_page===1,className:`flex h-10 w-10 items-center justify-center rounded-md border ${a.current_page===1?"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed":"border-gray-300 bg-white text-gray-500 hover:bg-gray-50"}`,children:"←"}),t.jsxs("span",{className:"px-4 text-sm text-gray-500",children:["Halaman ",a.current_page]}),t.jsx("button",{onClick:()=>{const n=a.current_page+1;me.get(`/catalog?page=${n}`,{},{preserveState:!0,only:["products","filters"]})},disabled:i.length<a.per_page,className:`flex h-10 w-10 items-center justify-center rounded-md border ${i.length<a.per_page?"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed":"border-gray-300 bg-white text-gray-500 hover:bg-gray-50"}`,children:"→"})]})})]}),e[100]=a.current_page,e[101]=a.per_page,e[102]=a.total,e[103]=i,e[104]=D):D=e[104];let R;e[105]!==M||e[106]!==D?(R=t.jsxs("div",{className:"flex-1",children:[M,D]}),e[105]=M,e[106]=D,e[107]=R):R=e[107];let ne;return e[108]!==k||e[109]!==R?(ne=t.jsxs("div",{className:"container mx-auto px-4 flex flex-col lg:flex-row gap-7 py-7",children:[k,R]}),e[108]=k,e[109]=R,e[110]=ne):ne=e[110],ne}function Ie(c){return t.jsx(Ue,{product:c},c.id)}function Ze(c){return t.jsx("option",{value:c,children:c},c)}function Je(c){return t.jsx("option",{value:c,children:c==="sewa"?"Disewakan":c==="jual"?"Dijual":"Disewakan & Dijual"},c)}function et(c){const e=ke.c(5),{products:A,categories:m,types:d,filters:r}=c;let o;return e[0]!==m||e[1]!==r||e[2]!==A||e[3]!==d?(o=t.jsx(He,{title:"Katalog Produk",children:t.jsx(Ve,{products:A,categories:m,types:d,filters:r})}),e[0]=m,e[1]=r,e[2]=A,e[3]=d,e[4]=o):o=e[4],o}export{et as default};
